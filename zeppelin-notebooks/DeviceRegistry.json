{"paragraphs":[{"title":"HTML/Javascript setup","text":"%angular\n<!-- External libraries -->\n<script type=\"text/javascript\" src=\"http://dygraphs.com/dygraph-combined.js\"></script>\n<script src=\"https://code.highcharts.com/highcharts.js\"></script>\n<script src=\"https://code.highcharts.com/modules/exporting.js\"></script>\n<script src=\"https://cdn.plot.ly/plotly-latest.min.js\"></script>\n\n<div id=\"dummy\" vars=\"data1,data1Schema,data2,data2Schema\"></div>\n<script type=\"text/javascript\">\n  var div = $('#dummy');\n  //Given an element in the note & list of values to fetch from Spark\n  //window.angularVars.myVal will be current value of backend Spark val of same name\n  function hoist(element, varNames){\n    window.angularVars = {};\n    var scope = angular.element(element.parent('.ng-scope')).scope().compiledScope;\n    $.each(varNames, function(i, v){\n      window[v+'-watcher'] = scope.$watch(v, function(newVal, oldVal){\n        console.log('Setting ' + v + ' to:\\n');\n        console.log(newVal);\n        window.angularVars[v] = newVal;\n      });\n    });\n  }\n  hoist(div, div.attr('vars').split(','));\n</script>","dateUpdated":"2016-08-14T19:20:15-0400","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","title":true,"editorHide":true,"tableHide":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1467668703986_-1274095240","id":"20160704-174503_870280567","result":{"code":"SUCCESS","type":"ANGULAR","msg":"<!-- External libraries -->\n<script type=\"text/javascript\" src=\"http://dygraphs.com/dygraph-combined.js\"></script>\n<script src=\"https://code.highcharts.com/highcharts.js\"></script>\n<script src=\"https://code.highcharts.com/modules/exporting.js\"></script>\n<script src=\"https://cdn.plot.ly/plotly-latest.min.js\"></script>\n\n<div id=\"dummy\" vars=\"data1,data1Schema,data2,data2Schema\"></div>\n<script type=\"text/javascript\">\n  var div = $('#dummy');\n  //Given an element in the note & list of values to fetch from Spark\n  //window.angularVars.myVal will be current value of backend Spark val of same name\n  function hoist(element, varNames){\n    window.angularVars = {};\n    var scope = angular.element(element.parent('.ng-scope')).scope().compiledScope;\n    $.each(varNames, function(i, v){\n      window[v+'-watcher'] = scope.$watch(v, function(newVal, oldVal){\n        console.log('Setting ' + v + ' to:\\n');\n        console.log(newVal);\n        window.angularVars[v] = newVal;\n      });\n    });\n  }\n  hoist(div, div.attr('vars').split(','));\n</script>"},"dateCreated":"2016-07-04T05:45:03-0400","dateStarted":"2016-08-14T19:20:16-0400","dateFinished":"2016-08-14T19:20:16-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3482"},{"title":"Load Metrics","text":"val data1 = sqlContext.sql(\"select * from metrics\")\nz.angularBind(\"data1\", data1.collect())\nz.angularBind(\"data1Schema\", data1.schema)","dateUpdated":"2016-08-14T19:20:16-0400","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","editorHide":true,"tableHide":true,"title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1467600583465_-350539639","id":"20160703-224943_2118529814","result":{"code":"SUCCESS","type":"TEXT","msg":""},"dateCreated":"2016-07-03T10:49:43-0400","dateStarted":"2016-08-14T19:20:16-0400","dateFinished":"2016-08-14T19:20:16-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3483"},{"title":"Device Registry Meta","text":"%sql\nselect Datetime, Address as IP, Node, TaggedAddresses\nfrom nodes\nlimit 7","dateUpdated":"2016-08-14T19:20:16-0400","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"Datetime","index":0,"aggr":"sum"}],"values":[{"name":"IP","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"Datetime","index":0,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/sql","editorHide":true,"title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1470681801869_-1693912757","id":"20160808-144321_1602171126","result":{"code":"SUCCESS","type":"TABLE","msg":"Datetime\tIP\tNode\tTaggedAddresses\n2016-08-14 18:57:29\t172.20.0.2\tmonitor.dev\t[172.20.0.2]\n2016-08-14 18:57:29\t172.20.0.3\tweb.dev\t[172.20.0.3]\n2016-08-14 18:57:54\t172.20.0.2\tmonitor.dev\t[172.20.0.2]\n2016-08-14 18:57:54\t172.20.0.3\tweb.dev\t[172.20.0.3]\n2016-08-14 18:58:04\t172.20.0.2\tmonitor.dev\t[172.20.0.2]\n2016-08-14 18:58:04\t172.20.0.3\tweb.dev\t[172.20.0.3]\n2016-08-14 18:58:15\t172.20.0.2\tmonitor.dev\t[172.20.0.2]\n","comment":"","msgTable":[[{"key":"IP","value":"2016-08-14 18:57:29"},{"key":"IP","value":"172.20.0.2"},{"key":"IP","value":"monitor.dev"},{"key":"IP","value":"[172.20.0.2]"}],[{"key":"Node","value":"2016-08-14 18:57:29"},{"key":"Node","value":"172.20.0.3"},{"key":"Node","value":"web.dev"},{"key":"Node","value":"[172.20.0.3]"}],[{"key":"TaggedAddresses","value":"2016-08-14 18:57:54"},{"key":"TaggedAddresses","value":"172.20.0.2"},{"key":"TaggedAddresses","value":"monitor.dev"},{"key":"TaggedAddresses","value":"[172.20.0.2]"}],[{"value":"2016-08-14 18:57:54"},{"value":"172.20.0.3"},{"value":"web.dev"},{"value":"[172.20.0.3]"}],[{"value":"2016-08-14 18:58:04"},{"value":"172.20.0.2"},{"value":"monitor.dev"},{"value":"[172.20.0.2]"}],[{"value":"2016-08-14 18:58:04"},{"value":"172.20.0.3"},{"value":"web.dev"},{"value":"[172.20.0.3]"}],[{"value":"2016-08-14 18:58:15"},{"value":"172.20.0.2"},{"value":"monitor.dev"},{"value":"[172.20.0.2]"}]],"columnNames":[{"name":"Datetime","index":0,"aggr":"sum"},{"name":"IP","index":1,"aggr":"sum"},{"name":"Node","index":2,"aggr":"sum"},{"name":"TaggedAddresses","index":3,"aggr":"sum"}],"rows":[["2016-08-14 18:57:29","172.20.0.2","monitor.dev","[172.20.0.2]"],["2016-08-14 18:57:29","172.20.0.3","web.dev","[172.20.0.3]"],["2016-08-14 18:57:54","172.20.0.2","monitor.dev","[172.20.0.2]"],["2016-08-14 18:57:54","172.20.0.3","web.dev","[172.20.0.3]"],["2016-08-14 18:58:04","172.20.0.2","monitor.dev","[172.20.0.2]"],["2016-08-14 18:58:04","172.20.0.3","web.dev","[172.20.0.3]"],["2016-08-14 18:58:15","172.20.0.2","monitor.dev","[172.20.0.2]"]]},"dateCreated":"2016-08-08T02:43:21-0400","dateStarted":"2016-08-14T19:20:16-0400","dateFinished":"2016-08-14T19:20:16-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3484"},{"title":"Select Host","text":"val nodes = sqlContext.sql(\"select distinct node from nodes\").collect().map(x => (x(0).asInstanceOf[String], x(0).asInstanceOf[String]))\n\nval query = \"\"\"\nselect\n concat_ws(',', collect_list(date_format(datetime, 'HH:mm'))) as time,\n concat_ws(',', collect_list(cast(diskbusy as string))) as Disk,\n concat_ws(',', collect_list(cast(cpuuser as string))) as CPUUser,\n concat_ws(',', collect_list(cast(cpusys as string))) as CPUSys,\n concat_ws(',', collect_list(cast(round(cpusys+cpuuser, 2) as string))) as CPU,\n concat_ws(',', collect_list(cast(round(100*memavailable/memtotal, 2) as string))) as Mem,\n concat_ws(',', collect_list(cast(greatest(unknown.requests, 0) as string))) as ExternalRequests,\n concat_ws(',', collect_list(cast(greatest(known.requests, 0) as string))) as InternalRequests,\n concat_ws(',', collect_list(cast(greatest(known.requests, 0) + greatest(unknown.requests, 0) as string))) as TotalRequests,\n concat_ws(',', collect_list(cast(round(memavailable/1000, 0) as string))) as MemAvail\nfrom node_monitoring\nleft outer join (\n  select date_format(datetime, 'HH:mm') as time, app_host, count(*) as requests\n  from web_logs_enriched\n  where source_host is not null or source_ip = '127.0.0.1'\n  group by date_format(datetime, 'HH:mm'), app_host\n) known\non node_monitoring.node = known.app_host and date_format(node_monitoring.datetime, 'HH:mm') = known.time\nleft outer join (\n  select date_format(datetime, 'HH:mm') as time, app_host, count(*) as requests\n  from web_logs_enriched\n  where source_host is null\n  group by date_format(datetime, 'HH:mm'), app_host\n) unknown\non node_monitoring.node = unknown.app_host and date_format(node_monitoring.datetime, 'HH:mm') = unknown.time\nwhere node = '\"\"\" + z.select(\"node\", nodes) + \"\"\"'\ngroup by node\n\"\"\"\nval data2 = sqlContext.sql(query)\nz.angularBind(\"data2\", data2.collect())\nz.angularBind(\"data2Schema\", data2.schema)\nz.run(\"20160706-130128_836809999\")","dateUpdated":"2016-08-14T19:20:31-0400","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","title":true,"editorHide":true,"tableHide":false},"settings":{"params":{"node":"web.dev"},"forms":{"node":{"name":"node","displayName":"node","type":"select","defaultValue":"","options":[{"value":"monitor.dev","displayName":"monitor.dev","$$hashKey":"object:4033"},{"value":"web.dev","displayName":"web.dev","$$hashKey":"object:4034"}],"hidden":false}}},"apps":[],"jobName":"paragraph_1467824395155_1121927107","id":"20160706-125955_1152872728","result":{"code":"SUCCESS","type":"TEXT","msg":""},"dateCreated":"2016-07-06T12:59:55-0400","dateStarted":"2016-08-14T19:20:35-0400","dateFinished":"2016-08-14T19:20:37-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3485"},{"title":"Host/Device View","text":"%angular\n<div id=\"chart2\" style=\"min-width: 100%; height: 500px; margin: 0 auto\" data=\"data2\"></div>\n<script type=\"text/javascript\">\nvar div = $('#chart2');\nvar data = window.angularVars[div.attr('data')][0].values;\nvar schema = window.angularVars[div.attr('data')+'Schema'];\n\nvar series = [];\n$.each(schema.fields, function(i, v){\n  if (i > 0){\n    series.push({\n      name: v.name, type: 'spline', yAxis: 0,\n      tooltip: { valueSuffix: ' %' },\n      data: JSON.parse('['+data[i].split(',')+']')\n    });\n  }\n});\n\nseries[series.length-1].dashStyle = 'dot';\nseries[series.length-1].yAxis = 1;\nseries[series.length-1].tooltip.valueSuffix = ' MB';\n\nfunction adjustSeries(index, dot){\n  series[index].dashStyle = dot;\n  series[index].yAxis = 2;\n  series[index].tooltip.valueSuffix = ' Hits';\n}\n\nadjustSeries(series.length - 2, 'longDash');\nadjustSeries(series.length - 3, 'shortDash');\nadjustSeries(series.length - 4, 'shortDash');\n\nvar xAxis = {categories: data[0].split(','), crosshair: true};\n\nvar yAxis1 = {\n  labels: { format: '{value} %', style: { color: Highcharts.getOptions().colors[2] } },\n  title: { text: 'Percentage Consumed', style: { color: Highcharts.getOptions().colors[2] } },\n  opposite: true\n};\n\nvar yAxis2 = {\n  labels: { format: '{value} MB', style: { color: Highcharts.getOptions().colors[0] } },\n  title: { text: 'Memory Available', style: { color: Highcharts.getOptions().colors[0] } },\n  gridLineWidth: 0\n};\n\nvar yAxis3 = {\n  labels: { format: '{value}', style: { color: Highcharts.getOptions().colors[0] } },\n  title: { text: 'HTTP Requests', style: { color: Highcharts.getOptions().colors[0] } },\n  gridLineWidth: 0,\n  opposite: true\n};\n\nvar legend = {\n  layout: 'vertical', align: 'left', verticalAlign: 'top', floating: true,\n  backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF',\n  x: 80, y: 55\n};\n\n$('#chart2').highcharts({\n  chart: { zoomType: 'xy' },\n  title: { text: 'Node Metrics:'},\n  xAxis: [xAxis],\n  yAxis: [yAxis1, yAxis2, yAxis3],\n  series: series,\n  legend: legend,\n  tooltip: { shared: true }\n});\n</script>","dateUpdated":"2016-08-14T19:20:16-0400","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","editorHide":true,"tableHide":false,"title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1467824488370_-882139613","id":"20160706-130128_836809999","result":{"code":"SUCCESS","type":"ANGULAR","msg":"<div id=\"chart2\" style=\"min-width: 100%; height: 500px; margin: 0 auto\" data=\"data2\"></div>\n<script type=\"text/javascript\">\nvar div = $('#chart2');\nvar data = window.angularVars[div.attr('data')][0].values;\nvar schema = window.angularVars[div.attr('data')+'Schema'];\n\nvar series = [];\n$.each(schema.fields, function(i, v){\n  if (i > 0){\n    series.push({\n      name: v.name, type: 'spline', yAxis: 0,\n      tooltip: { valueSuffix: ' %' },\n      data: JSON.parse('['+data[i].split(',')+']')\n    });\n  }\n});\n\nseries[series.length-1].dashStyle = 'dot';\nseries[series.length-1].yAxis = 1;\nseries[series.length-1].tooltip.valueSuffix = ' MB';\n\nfunction adjustSeries(index, dot){\n  series[index].dashStyle = dot;\n  series[index].yAxis = 2;\n  series[index].tooltip.valueSuffix = ' Hits';\n}\n\nadjustSeries(series.length - 2, 'longDash');\nadjustSeries(series.length - 3, 'shortDash');\nadjustSeries(series.length - 4, 'shortDash');\n\nvar xAxis = {categories: data[0].split(','), crosshair: true};\n\nvar yAxis1 = {\n  labels: { format: '{value} %', style: { color: Highcharts.getOptions().colors[2] } },\n  title: { text: 'Percentage Consumed', style: { color: Highcharts.getOptions().colors[2] } },\n  opposite: true\n};\n\nvar yAxis2 = {\n  labels: { format: '{value} MB', style: { color: Highcharts.getOptions().colors[0] } },\n  title: { text: 'Memory Available', style: { color: Highcharts.getOptions().colors[0] } },\n  gridLineWidth: 0\n};\n\nvar yAxis3 = {\n  labels: { format: '{value}', style: { color: Highcharts.getOptions().colors[0] } },\n  title: { text: 'HTTP Requests', style: { color: Highcharts.getOptions().colors[0] } },\n  gridLineWidth: 0,\n  opposite: true\n};\n\nvar legend = {\n  layout: 'vertical', align: 'left', verticalAlign: 'top', floating: true,\n  backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF',\n  x: 80, y: 55\n};\n\n$('#chart2').highcharts({\n  chart: { zoomType: 'xy' },\n  title: { text: 'Node Metrics:'},\n  xAxis: [xAxis],\n  yAxis: [yAxis1, yAxis2, yAxis3],\n  series: series,\n  legend: legend,\n  tooltip: { shared: true }\n});\n</script>"},"dateCreated":"2016-07-06T01:01:28-0400","dateStarted":"2016-08-14T19:20:37-0400","dateFinished":"2016-08-14T19:20:37-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3486"},{"text":"%sql select * from web_logs_enriched where source_host != 'null' limit 10","dateUpdated":"2016-08-14T19:20:16-0400","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"datetime","index":0,"aggr":"sum"}],"values":[{"name":"app_host","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"datetime","index":0,"aggr":"sum"},"yAxis":{"name":"app_host","index":1,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/sql","editorHide":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1470848719330_1960620622","id":"20160810-130519_1702839515","result":{"code":"SUCCESS","type":"TABLE","msg":"datetime\tapp_host\tsource_ip\tsource_host\tlog\n","comment":"","msgTable":[],"columnNames":[{"name":"datetime","index":0,"aggr":"sum"},{"name":"app_host","index":1,"aggr":"sum"},{"name":"source_ip","index":2,"aggr":"sum"},{"name":"source_host","index":3,"aggr":"sum"},{"name":"log","index":4,"aggr":"sum"}],"rows":[]},"dateCreated":"2016-08-10T01:05:19-0400","dateStarted":"2016-08-14T19:20:17-0400","dateFinished":"2016-08-14T19:20:20-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3487"},{"title":"App-Wide Metrics","text":"%angular\n<div id=\"chart1\" title=\"Node Metrics\" data=\"data1\" yAxes=\"MemAvail,Percentage Consumed,HTTP Requests\" height=\"400px\" width=\"2000\"></div>\n<input id=\"x0\" type=\"text\" ng-model=\"x0\" class=\"hide\"></input>\n<input id=\"x1\" type=\"text\" ng-model=\"x1\" class=\"hide\"></input>\n<script type=\"text/javascript\">\nvar div = $('#chart1');\nvar data = window.angularVars[div.attr('data')];\nvar schema = window.angularVars[div.attr('data')+'Schema'];\n\n//Convert query results into Plotly traces: https://plot.ly/javascript/multiple-axes/#multiple-yaxes\nvar traces = [];\n$.each(schema.fields.slice(1), function(i, field){ //Setup trace metadata\n  var trace = {x: [], y: [], name: field.name, type: 'scatter', yaxis: 'y'};\n  if (field.name.toLowerCase().indexOf('used') > 0) trace.yaxis = 'y2';\n  else if (field.name.toLowerCase().indexOf('requests') > 0) trace.yaxis = 'y3';\n  traces.push(trace);\n});\n//Load query results into trace arrays\n$.each(data, function(i,row){\n  //First value is a date\n  var date = new Date(row.values[0]);\n  $.each(row.values.slice(1), function(v, cell){\n    traces[v].x.push(date);\n    traces[v].y.push(cell);\n  });\n});\n\nvar layout = { title: 'MultiHost App View', legend: {orientation: 'h'}};\n$.each(div.attr('yAxes').split(','), function(i, v){\n  var axis = {title: v};\n  var key = 'yaxis';\n  if (i > 0){\n    key += i+1;\n    axis.side = 'right';\n    axis.overlaying = 'y';\n    axis.position = 1-.04*(i-1);\n  }\n  layout[key] = axis;\n});\n\nvar config = {displaylogo: div.attr('showLinks'), showLinks: div.attr('showLinks'), modeBarButtonsToRemove: ['sendDataToCloud']};\nPlotly.newPlot('chart1', traces, layout, config);\n\ndiv.bind('plotly_relayout', function(event,eventdata){\n  alert(new Date(eventdata['xaxis.range[0]']) + '\\n' + new Date(eventdata['xaxis.range[1]']));\n  /*\n  $('#x0').val(new Date(eventdata['xaxis.range[0]']));\n  $('#x1').val(new Date(eventdata['xaxis.range[1]']));\n  $('#x0').trigger('input');\n  $('#x1').trigger('input');\n  */\n});\n</script>","dateUpdated":"2016-08-14T19:20:16-0400","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala","editorHide":true,"title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1470550500073_-300729757","id":"20160807-021500_806175985","result":{"code":"SUCCESS","type":"ANGULAR","msg":"<div id=\"chart1\" title=\"Node Metrics\" data=\"data1\" yAxes=\"MemAvail,Percentage Consumed,HTTP Requests\" height=\"400px\" width=\"2000\"></div>\n<input id=\"x0\" type=\"text\" ng-model=\"x0\" class=\"hide\"></input>\n<input id=\"x1\" type=\"text\" ng-model=\"x1\" class=\"hide\"></input>\n<script type=\"text/javascript\">\nvar div = $('#chart1');\nvar data = window.angularVars[div.attr('data')];\nvar schema = window.angularVars[div.attr('data')+'Schema'];\n\n//Convert query results into Plotly traces: https://plot.ly/javascript/multiple-axes/#multiple-yaxes\nvar traces = [];\n$.each(schema.fields.slice(1), function(i, field){ //Setup trace metadata\n  var trace = {x: [], y: [], name: field.name, type: 'scatter', yaxis: 'y'};\n  if (field.name.toLowerCase().indexOf('used') > 0) trace.yaxis = 'y2';\n  else if (field.name.toLowerCase().indexOf('requests') > 0) trace.yaxis = 'y3';\n  traces.push(trace);\n});\n//Load query results into trace arrays\n$.each(data, function(i,row){\n  //First value is a date\n  var date = new Date(row.values[0]);\n  $.each(row.values.slice(1), function(v, cell){\n    traces[v].x.push(date);\n    traces[v].y.push(cell);\n  });\n});\n\nvar layout = { title: 'MultiHost App View', legend: {orientation: 'h'}};\n$.each(div.attr('yAxes').split(','), function(i, v){\n  var axis = {title: v};\n  var key = 'yaxis';\n  if (i > 0){\n    key += i+1;\n    axis.side = 'right';\n    axis.overlaying = 'y';\n    axis.position = 1-.04*(i-1);\n  }\n  layout[key] = axis;\n});\n\nvar config = {displaylogo: div.attr('showLinks'), showLinks: div.attr('showLinks'), modeBarButtonsToRemove: ['sendDataToCloud']};\nPlotly.newPlot('chart1', traces, layout, config);\n\ndiv.bind('plotly_relayout', function(event,eventdata){\n  alert(new Date(eventdata['xaxis.range[0]']) + '\\n' + new Date(eventdata['xaxis.range[1]']));\n  /*\n  $('#x0').val(new Date(eventdata['xaxis.range[0]']));\n  $('#x1').val(new Date(eventdata['xaxis.range[1]']));\n  $('#x0').trigger('input');\n  $('#x1').trigger('input');\n  */\n});\n</script>"},"dateCreated":"2016-08-07T02:15:00-0400","dateStarted":"2016-08-14T19:20:16-0400","dateFinished":"2016-08-14T19:20:16-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3488"},{"title":"Timestamped Host Process Metadata","text":"%sql select * from ps_raw limit 5","dateUpdated":"2016-08-14T19:20:16-0400","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"node","index":0,"aggr":"sum"}],"values":[{"name":"ts","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"node","index":0,"aggr":"sum"},"yAxis":{"name":"ts","index":1,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/sql","editorHide":true,"title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1470818994961_-138995992","id":"20160810-044954_1805943913","result":{"code":"SUCCESS","type":"TABLE","msg":"node\tts\tuser\tpid\tCPU\tMem\tVSZ\tRSS\tTTY\tSTAT\tStart\tTime\tCommand\nweb.dev\t29497802084\troot\t1\t0.0\t0.0\t11648\t2688\t?\tSs\t22:47\t0:00\tsh /scripts/start.sh\nweb.dev\t29497802084\troot\t41\t0.0\t0.0\t11648\t2228\t?\tS\t22:47\t0:00\t/bin/sh /nifi/bin/nifi.sh\nweb.dev\t29497802084\troot\t42\t14.8\t0.3\t2993776\t49360\t?\tSl\t22:47\t1:30\t/usr/lib/jvm/java-1.8.0-openjdk/bin/java -cp /nifi/conf:/nifi/lib/bootstrap/* -Xms12m -Xmx24m -Dorg.apache.nifi.bootstrap.config.file=/nifi/conf/bootstrap.conf org.apache.nifi.bootstrap.RunNiFi\nweb.dev\t29497802084\troot\t62\t106.0\t4.1\t5845320\t593468\t?\tSl\t22:47\t10:48\t/usr/lib/jvm/java-1.8.0-openjdk/bin/java -classpath /nifi/./conf:/nifi/./lib/nifi-nar-utils-0.6.0.1.2.0.1-1.jar:/nifi/./lib/jcl-over-slf4j-1.7.12.jar:/nifi/./lib/nifi-properties-0.6.0.1.2.0.1-1.jar:/nifi/./lib/logback-core-1.1.3.jar:/nifi/./lib/nifi-runtime-0.6.0.1.2.0.1-1.jar:/nifi/./lib/slf4j-api-1.7.12.jar:/nifi/./lib/log4j-over-slf4j-1.7.12.jar:/nifi/./lib/logback-classic-1.1.3.jar:/nifi/./lib/jul-to-slf4j-1.7.12.jar:/nifi/./lib/nifi-api-0.6.0.1.2.0.1-1.jar:/nifi/./lib/nifi-documentation-0.6.0.1.2.0.1-1.jar -Dorg.apache.jasper.compiler.disablejsr199=true -Xmx512m -Xms512m -Dsun.net.http.allowRestrictedHeaders=true -Djava.net.preferIPv4Stack=true -Djava.awt.headless=true -Djava.protocol.handler.pkgs=sun.net.www.protocol -Dnifi.properties.file.path=/nifi/./conf/nifi.properties -Dnifi.bootstrap.listen.port=41890 -Dapp=NiFi\nweb.dev\t29497802084\troot\t87\t0.0\t0.0\t93676\t12572\t?\tS\t22:47\t0:00\tpython /server.py 8000\n","comment":"","msgTable":[[{"key":"ts","value":"web.dev"},{"key":"ts","value":"29497802084"},{"key":"ts","value":"root"},{"key":"ts","value":"1"},{"key":"ts","value":"0.0"},{"key":"ts","value":"0.0"},{"key":"ts","value":"11648"},{"key":"ts","value":"2688"},{"key":"ts","value":"?"},{"key":"ts","value":"Ss"},{"key":"ts","value":"22:47"},{"key":"ts","value":"0:00"},{"key":"ts","value":"sh /scripts/start.sh"}],[{"key":"user","value":"web.dev"},{"key":"user","value":"29497802084"},{"key":"user","value":"root"},{"key":"user","value":"41"},{"key":"user","value":"0.0"},{"key":"user","value":"0.0"},{"key":"user","value":"11648"},{"key":"user","value":"2228"},{"key":"user","value":"?"},{"key":"user","value":"S"},{"key":"user","value":"22:47"},{"key":"user","value":"0:00"},{"key":"user","value":"/bin/sh /nifi/bin/nifi.sh"}],[{"key":"pid","value":"web.dev"},{"key":"pid","value":"29497802084"},{"key":"pid","value":"root"},{"key":"pid","value":"42"},{"key":"pid","value":"14.8"},{"key":"pid","value":"0.3"},{"key":"pid","value":"2993776"},{"key":"pid","value":"49360"},{"key":"pid","value":"?"},{"key":"pid","value":"Sl"},{"key":"pid","value":"22:47"},{"key":"pid","value":"1:30"},{"key":"pid","value":"/usr/lib/jvm/java-1.8.0-openjdk/bin/java -cp /nifi/conf:/nifi/lib/bootstrap/* -Xms12m -Xmx24m -Dorg.apache.nifi.bootstrap.config.file=/nifi/conf/bootstrap.conf org.apache.nifi.bootstrap.RunNiFi"}],[{"key":"CPU","value":"web.dev"},{"key":"CPU","value":"29497802084"},{"key":"CPU","value":"root"},{"key":"CPU","value":"62"},{"key":"CPU","value":"106.0"},{"key":"CPU","value":"4.1"},{"key":"CPU","value":"5845320"},{"key":"CPU","value":"593468"},{"key":"CPU","value":"?"},{"key":"CPU","value":"Sl"},{"key":"CPU","value":"22:47"},{"key":"CPU","value":"10:48"},{"key":"CPU","value":"/usr/lib/jvm/java-1.8.0-openjdk/bin/java -classpath /nifi/./conf:/nifi/./lib/nifi-nar-utils-0.6.0.1.2.0.1-1.jar:/nifi/./lib/jcl-over-slf4j-1.7.12.jar:/nifi/./lib/nifi-properties-0.6.0.1.2.0.1-1.jar:/nifi/./lib/logback-core-1.1.3.jar:/nifi/./lib/nifi-runtime-0.6.0.1.2.0.1-1.jar:/nifi/./lib/slf4j-api-1.7.12.jar:/nifi/./lib/log4j-over-slf4j-1.7.12.jar:/nifi/./lib/logback-classic-1.1.3.jar:/nifi/./lib/jul-to-slf4j-1.7.12.jar:/nifi/./lib/nifi-api-0.6.0.1.2.0.1-1.jar:/nifi/./lib/nifi-documentation-0.6.0.1.2.0.1-1.jar -Dorg.apache.jasper.compiler.disablejsr199=true -Xmx512m -Xms512m -Dsun.net.http.allowRestrictedHeaders=true -Djava.net.preferIPv4Stack=true -Djava.awt.headless=true -Djava.protocol.handler.pkgs=sun.net.www.protocol -Dnifi.properties.file.path=/nifi/./conf/nifi.properties -Dnifi.bootstrap.listen.port=41890 -Dapp=NiFi"}],[{"key":"Mem","value":"web.dev"},{"key":"Mem","value":"29497802084"},{"key":"Mem","value":"root"},{"key":"Mem","value":"87"},{"key":"Mem","value":"0.0"},{"key":"Mem","value":"0.0"},{"key":"Mem","value":"93676"},{"key":"Mem","value":"12572"},{"key":"Mem","value":"?"},{"key":"Mem","value":"S"},{"key":"Mem","value":"22:47"},{"key":"Mem","value":"0:00"},{"key":"Mem","value":"python /server.py 8000"}]],"columnNames":[{"name":"node","index":0,"aggr":"sum"},{"name":"ts","index":1,"aggr":"sum"},{"name":"user","index":2,"aggr":"sum"},{"name":"pid","index":3,"aggr":"sum"},{"name":"CPU","index":4,"aggr":"sum"},{"name":"Mem","index":5,"aggr":"sum"},{"name":"VSZ","index":6,"aggr":"sum"},{"name":"RSS","index":7,"aggr":"sum"},{"name":"TTY","index":8,"aggr":"sum"},{"name":"STAT","index":9,"aggr":"sum"},{"name":"Start","index":10,"aggr":"sum"},{"name":"Time","index":11,"aggr":"sum"},{"name":"Command","index":12,"aggr":"sum"}],"rows":[["web.dev","29497802084","root","1","0.0","0.0","11648","2688","?","Ss","22:47","0:00","sh /scripts/start.sh"],["web.dev","29497802084","root","41","0.0","0.0","11648","2228","?","S","22:47","0:00","/bin/sh /nifi/bin/nifi.sh"],["web.dev","29497802084","root","42","14.8","0.3","2993776","49360","?","Sl","22:47","1:30","/usr/lib/jvm/java-1.8.0-openjdk/bin/java -cp /nifi/conf:/nifi/lib/bootstrap/* -Xms12m -Xmx24m -Dorg.apache.nifi.bootstrap.config.file=/nifi/conf/bootstrap.conf org.apache.nifi.bootstrap.RunNiFi"],["web.dev","29497802084","root","62","106.0","4.1","5845320","593468","?","Sl","22:47","10:48","/usr/lib/jvm/java-1.8.0-openjdk/bin/java -classpath /nifi/./conf:/nifi/./lib/nifi-nar-utils-0.6.0.1.2.0.1-1.jar:/nifi/./lib/jcl-over-slf4j-1.7.12.jar:/nifi/./lib/nifi-properties-0.6.0.1.2.0.1-1.jar:/nifi/./lib/logback-core-1.1.3.jar:/nifi/./lib/nifi-runtime-0.6.0.1.2.0.1-1.jar:/nifi/./lib/slf4j-api-1.7.12.jar:/nifi/./lib/log4j-over-slf4j-1.7.12.jar:/nifi/./lib/logback-classic-1.1.3.jar:/nifi/./lib/jul-to-slf4j-1.7.12.jar:/nifi/./lib/nifi-api-0.6.0.1.2.0.1-1.jar:/nifi/./lib/nifi-documentation-0.6.0.1.2.0.1-1.jar -Dorg.apache.jasper.compiler.disablejsr199=true -Xmx512m -Xms512m -Dsun.net.http.allowRestrictedHeaders=true -Djava.net.preferIPv4Stack=true -Djava.awt.headless=true -Djava.protocol.handler.pkgs=sun.net.www.protocol -Dnifi.properties.file.path=/nifi/./conf/nifi.properties -Dnifi.bootstrap.listen.port=41890 -Dapp=NiFi"],["web.dev","29497802084","root","87","0.0","0.0","93676","12572","?","S","22:47","0:00","python /server.py 8000"]]},"dateCreated":"2016-08-10T04:49:54-0400","dateStarted":"2016-08-14T19:20:20-0400","dateFinished":"2016-08-14T19:20:23-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3489"},{"title":"Heaviest Processes by CPU","text":"%sql\nselect * from (\nselect node, split(command, ' ')[0], avg(cpu) as avg\nfrom ps_raw\ngroup by node, split(command, ' ')[0]\norder by avg desc\n) a\nwhere avg > 0","dateUpdated":"2016-08-14T19:20:16-0400","config":{"colWidth":12,"graph":{"mode":"pieChart","height":300,"optionOpen":false,"keys":[{"name":"split(command,  )[0]","index":1,"aggr":"sum"}],"values":[{"name":"avg","index":2,"aggr":"sum"}],"groups":[{"name":"node","index":0,"aggr":"sum"}],"scatter":{"xAxis":{"name":"node","index":0,"aggr":"sum"},"yAxis":{"name":"split(command,  )[0]","index":1,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/sql","helium":{},"title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1470848083709_-992448136","id":"20160810-125443_900198444","result":{"code":"SUCCESS","type":"TABLE","msg":"node\tsplit(command,  )[0]\tavg\nweb.dev\t/usr/lib/jvm/java-1.8.0-openjdk/bin/java\t66.56782945736433\nweb.dev\tconsul\t37.01132812499999\nweb.dev\tnmon\t11.359375\nweb.dev\tnetstat\t8.441015625000002\nweb.dev\tpython\t0.3453125000000009\nweb.dev\tping\t0.058695652173913045\n","comment":"","msgTable":[[{"key":"split(command,  )[0]","value":"web.dev"},{"key":"split(command,  )[0]","value":"/usr/lib/jvm/java-1.8.0-openjdk/bin/java"},{"key":"split(command,  )[0]","value":"66.56782945736433"}],[{"key":"avg","value":"web.dev"},{"key":"avg","value":"consul"},{"key":"avg","value":"37.01132812499999"}],[{"value":"web.dev"},{"value":"nmon"},{"value":"11.359375"}],[{"value":"web.dev"},{"value":"netstat"},{"value":"8.441015625000002"}],[{"value":"web.dev"},{"value":"python"},{"value":"0.3453125000000009"}],[{"value":"web.dev"},{"value":"ping"},{"value":"0.058695652173913045"}]],"columnNames":[{"name":"node","index":0,"aggr":"sum"},{"name":"split(command,  )[0]","index":1,"aggr":"sum"},{"name":"avg","index":2,"aggr":"sum"}],"rows":[["web.dev","/usr/lib/jvm/java-1.8.0-openjdk/bin/java","66.56782945736433"],["web.dev","consul","37.01132812499999"],["web.dev","nmon","11.359375"],["web.dev","netstat","8.441015625000002"],["web.dev","python","0.3453125000000009"],["web.dev","ping","0.058695652173913045"]]},"dateCreated":"2016-08-10T12:54:43-0400","dateStarted":"2016-08-14T19:20:20-0400","dateFinished":"2016-08-14T19:20:27-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3490"},{"title":"Timestamped Host Network Activity","text":"%sql select * from netstat_raw limit 5","dateUpdated":"2016-08-14T19:20:16-0400","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"node","index":0,"aggr":"sum"}],"values":[{"name":"ts","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"node","index":0,"aggr":"sum"},"yAxis":{"name":"ts","index":1,"aggr":"sum"}}},"enabled":true,"editorMode":"ace/mode/sql","title":true,"editorHide":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1470821879974_-1153275647","id":"20160810-053759_255179982","result":{"code":"SUCCESS","type":"TABLE","msg":"node\tts\tProto\tRecvQ\tSendQ\tLocalAddress\tForeignAddress\tState\tUser\tInode\tpid\tProgramName\nweb.dev\t29497801699\ttcp\t0\t0\tweb.dev:webcache\t0.0.0.0:*\tLISTEN\troot\t55783\t\t\nweb.dev\t29497801699\ttcp\t0\t0\tlocalhost:cvd\t0.0.0.0:*\tLISTEN\troot\t61457\t\t\nweb.dev\t29497801699\ttcp\t0\t0\tlocalhost:fmtp\t0.0.0.0:*\tLISTEN\troot\t61458\t\t\nweb.dev\t29497801699\ttcp\t0\t0\tlocalhost:asterix\t0.0.0.0:*\tLISTEN\troot\t61463\t\t\nweb.dev\t29497801699\ttcp\t0\t0\tlocalhost:37851\t0.0.0.0:*\tLISTEN\troot\t57733\t\t\n","comment":"","msgTable":[[{"key":"ts","value":"web.dev"},{"key":"ts","value":"29497801699"},{"key":"ts","value":"tcp"},{"key":"ts","value":"0"},{"key":"ts","value":"0"},{"key":"ts","value":"web.dev:webcache"},{"key":"ts","value":"0.0.0.0:*"},{"key":"ts","value":"LISTEN"},{"key":"ts","value":"root"},{"key":"ts","value":"55783"},{"key":"ts","value":""},{"key":"ts","value":""}],[{"key":"Proto","value":"web.dev"},{"key":"Proto","value":"29497801699"},{"key":"Proto","value":"tcp"},{"key":"Proto","value":"0"},{"key":"Proto","value":"0"},{"key":"Proto","value":"localhost:cvd"},{"key":"Proto","value":"0.0.0.0:*"},{"key":"Proto","value":"LISTEN"},{"key":"Proto","value":"root"},{"key":"Proto","value":"61457"},{"key":"Proto","value":""},{"key":"Proto","value":""}],[{"key":"RecvQ","value":"web.dev"},{"key":"RecvQ","value":"29497801699"},{"key":"RecvQ","value":"tcp"},{"key":"RecvQ","value":"0"},{"key":"RecvQ","value":"0"},{"key":"RecvQ","value":"localhost:fmtp"},{"key":"RecvQ","value":"0.0.0.0:*"},{"key":"RecvQ","value":"LISTEN"},{"key":"RecvQ","value":"root"},{"key":"RecvQ","value":"61458"},{"key":"RecvQ","value":""},{"key":"RecvQ","value":""}],[{"key":"SendQ","value":"web.dev"},{"key":"SendQ","value":"29497801699"},{"key":"SendQ","value":"tcp"},{"key":"SendQ","value":"0"},{"key":"SendQ","value":"0"},{"key":"SendQ","value":"localhost:asterix"},{"key":"SendQ","value":"0.0.0.0:*"},{"key":"SendQ","value":"LISTEN"},{"key":"SendQ","value":"root"},{"key":"SendQ","value":"61463"},{"key":"SendQ","value":""},{"key":"SendQ","value":""}],[{"key":"LocalAddress","value":"web.dev"},{"key":"LocalAddress","value":"29497801699"},{"key":"LocalAddress","value":"tcp"},{"key":"LocalAddress","value":"0"},{"key":"LocalAddress","value":"0"},{"key":"LocalAddress","value":"localhost:37851"},{"key":"LocalAddress","value":"0.0.0.0:*"},{"key":"LocalAddress","value":"LISTEN"},{"key":"LocalAddress","value":"root"},{"key":"LocalAddress","value":"57733"},{"key":"LocalAddress","value":""},{"key":"LocalAddress","value":""}]],"columnNames":[{"name":"node","index":0,"aggr":"sum"},{"name":"ts","index":1,"aggr":"sum"},{"name":"Proto","index":2,"aggr":"sum"},{"name":"RecvQ","index":3,"aggr":"sum"},{"name":"SendQ","index":4,"aggr":"sum"},{"name":"LocalAddress","index":5,"aggr":"sum"},{"name":"ForeignAddress","index":6,"aggr":"sum"},{"name":"State","index":7,"aggr":"sum"},{"name":"User","index":8,"aggr":"sum"},{"name":"Inode","index":9,"aggr":"sum"},{"name":"pid","index":10,"aggr":"sum"},{"name":"ProgramName","index":11,"aggr":"sum"}],"rows":[["web.dev","29497801699","tcp","0","0","web.dev:webcache","0.0.0.0:*","LISTEN","root","55783","",""],["web.dev","29497801699","tcp","0","0","localhost:cvd","0.0.0.0:*","LISTEN","root","61457","",""],["web.dev","29497801699","tcp","0","0","localhost:fmtp","0.0.0.0:*","LISTEN","root","61458","",""],["web.dev","29497801699","tcp","0","0","localhost:asterix","0.0.0.0:*","LISTEN","root","61463","",""],["web.dev","29497801699","tcp","0","0","localhost:37851","0.0.0.0:*","LISTEN","root","57733","",""]]},"dateCreated":"2016-08-10T05:37:59-0400","dateStarted":"2016-08-14T19:20:23-0400","dateFinished":"2016-08-14T19:20:30-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3491"},{"title":"Most Frequent Net Activity by Host","text":"%sql\nselect node, foreignaddress, count(*) as count\nfrom netstat_raw group by node, foreignaddress\norder by count desc\nlimit 30","dateUpdated":"2016-08-14T19:20:16-0400","config":{"colWidth":12,"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"foreignaddress","index":1,"aggr":"sum"}],"values":[{"name":"count","index":2,"aggr":"sum"}],"groups":[{"name":"node","index":0,"aggr":"sum"}],"scatter":{"xAxis":{"name":"node","index":0,"aggr":"sum"}}},"enabled":true,"editorHide":true,"title":true,"helium":{},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1470847781316_572493683","id":"20160810-124941_1867977815","result":{"code":"SUCCESS","type":"TABLE","msg":"node\tforeignaddress\tcount\nweb.dev\ttechops_monitor.dev_1.techops_dev:blackjack\t14805\nweb.dev\t0.0.0.0:*\t14246\nweb.dev\t[::]:*\t7650\nweb.dev\ttechops_monitor.dev_1.techops_dev:tmi\t2548\nweb.dev\tlocalhost:irdmi\t2413\nweb.dev\tlocalhost:fmtp\t2156\nweb.dev\tya-in-f102.1e100.net:http\t1636\nweb.dev\tya-in-f101.1e100.net:http\t1614\nweb.dev\tya-in-f100.1e100.net:http\t1590\nweb.dev\tya-in-f138.1e100.net:http\t1568\nweb.dev\tya-in-f139.1e100.net:http\t1550\nweb.dev\tya-in-f113.1e100.net:http\t1443\nweb.dev\tlocalhost:41596\t1264\nweb.dev\ttechops_monitor.dev_1.techops_dev:41214\t1091\nweb.dev\ttechops_monitor.dev_1.techops_dev:amberon\t1067\nweb.dev\ttechops_monitor.dev_1.techops_dev:41186\t994\nweb.dev\tyx-in-f113.1e100.net:http\t531\nweb.dev\tyv-in-f139.1e100.net:http\t529\nweb.dev\tyk-in-f113.1e100.net:http\t487\nweb.dev\tlocalhost:45176\t480\nweb.dev\tyx-in-f100.1e100.net:http\t472\nweb.dev\tyx-in-f101.1e100.net:http\t472\nweb.dev\tyv-in-f100.1e100.net:http\t471\nweb.dev\tyv-in-f113.1e100.net:http\t469\nweb.dev\tyv-in-f101.1e100.net:http\t469\nweb.dev\tyk-in-f100.1e100.net:http\t423\nweb.dev\tyk-in-f102.1e100.net:http\t423\nweb.dev\tyx-in-f138.1e100.net:http\t413\nweb.dev\tyx-in-f102.1e100.net:http\t413\nweb.dev\tyv-in-f102.1e100.net:http\t409\n","comment":"","msgTable":[[{"key":"foreignaddress","value":"web.dev"},{"key":"foreignaddress","value":"techops_monitor.dev_1.techops_dev:blackjack"},{"key":"foreignaddress","value":"14805"}],[{"key":"count","value":"web.dev"},{"key":"count","value":"0.0.0.0:*"},{"key":"count","value":"14246"}],[{"value":"web.dev"},{"value":"[::]:*"},{"value":"7650"}],[{"value":"web.dev"},{"value":"techops_monitor.dev_1.techops_dev:tmi"},{"value":"2548"}],[{"value":"web.dev"},{"value":"localhost:irdmi"},{"value":"2413"}],[{"value":"web.dev"},{"value":"localhost:fmtp"},{"value":"2156"}],[{"value":"web.dev"},{"value":"ya-in-f102.1e100.net:http"},{"value":"1636"}],[{"value":"web.dev"},{"value":"ya-in-f101.1e100.net:http"},{"value":"1614"}],[{"value":"web.dev"},{"value":"ya-in-f100.1e100.net:http"},{"value":"1590"}],[{"value":"web.dev"},{"value":"ya-in-f138.1e100.net:http"},{"value":"1568"}],[{"value":"web.dev"},{"value":"ya-in-f139.1e100.net:http"},{"value":"1550"}],[{"value":"web.dev"},{"value":"ya-in-f113.1e100.net:http"},{"value":"1443"}],[{"value":"web.dev"},{"value":"localhost:41596"},{"value":"1264"}],[{"value":"web.dev"},{"value":"techops_monitor.dev_1.techops_dev:41214"},{"value":"1091"}],[{"value":"web.dev"},{"value":"techops_monitor.dev_1.techops_dev:amberon"},{"value":"1067"}],[{"value":"web.dev"},{"value":"techops_monitor.dev_1.techops_dev:41186"},{"value":"994"}],[{"value":"web.dev"},{"value":"yx-in-f113.1e100.net:http"},{"value":"531"}],[{"value":"web.dev"},{"value":"yv-in-f139.1e100.net:http"},{"value":"529"}],[{"value":"web.dev"},{"value":"yk-in-f113.1e100.net:http"},{"value":"487"}],[{"value":"web.dev"},{"value":"localhost:45176"},{"value":"480"}],[{"value":"web.dev"},{"value":"yx-in-f100.1e100.net:http"},{"value":"472"}],[{"value":"web.dev"},{"value":"yx-in-f101.1e100.net:http"},{"value":"472"}],[{"value":"web.dev"},{"value":"yv-in-f100.1e100.net:http"},{"value":"471"}],[{"value":"web.dev"},{"value":"yv-in-f113.1e100.net:http"},{"value":"469"}],[{"value":"web.dev"},{"value":"yv-in-f101.1e100.net:http"},{"value":"469"}],[{"value":"web.dev"},{"value":"yk-in-f100.1e100.net:http"},{"value":"423"}],[{"value":"web.dev"},{"value":"yk-in-f102.1e100.net:http"},{"value":"423"}],[{"value":"web.dev"},{"value":"yx-in-f138.1e100.net:http"},{"value":"413"}],[{"value":"web.dev"},{"value":"yx-in-f102.1e100.net:http"},{"value":"413"}],[{"value":"web.dev"},{"value":"yv-in-f102.1e100.net:http"},{"value":"409"}]],"columnNames":[{"name":"node","index":0,"aggr":"sum"},{"name":"foreignaddress","index":1,"aggr":"sum"},{"name":"count","index":2,"aggr":"sum"}],"rows":[["web.dev","techops_monitor.dev_1.techops_dev:blackjack","14805"],["web.dev","0.0.0.0:*","14246"],["web.dev","[::]:*","7650"],["web.dev","techops_monitor.dev_1.techops_dev:tmi","2548"],["web.dev","localhost:irdmi","2413"],["web.dev","localhost:fmtp","2156"],["web.dev","ya-in-f102.1e100.net:http","1636"],["web.dev","ya-in-f101.1e100.net:http","1614"],["web.dev","ya-in-f100.1e100.net:http","1590"],["web.dev","ya-in-f138.1e100.net:http","1568"],["web.dev","ya-in-f139.1e100.net:http","1550"],["web.dev","ya-in-f113.1e100.net:http","1443"],["web.dev","localhost:41596","1264"],["web.dev","techops_monitor.dev_1.techops_dev:41214","1091"],["web.dev","techops_monitor.dev_1.techops_dev:amberon","1067"],["web.dev","techops_monitor.dev_1.techops_dev:41186","994"],["web.dev","yx-in-f113.1e100.net:http","531"],["web.dev","yv-in-f139.1e100.net:http","529"],["web.dev","yk-in-f113.1e100.net:http","487"],["web.dev","localhost:45176","480"],["web.dev","yx-in-f100.1e100.net:http","472"],["web.dev","yx-in-f101.1e100.net:http","472"],["web.dev","yv-in-f100.1e100.net:http","471"],["web.dev","yv-in-f113.1e100.net:http","469"],["web.dev","yv-in-f101.1e100.net:http","469"],["web.dev","yk-in-f100.1e100.net:http","423"],["web.dev","yk-in-f102.1e100.net:http","423"],["web.dev","yx-in-f138.1e100.net:http","413"],["web.dev","yx-in-f102.1e100.net:http","413"],["web.dev","yv-in-f102.1e100.net:http","409"]]},"dateCreated":"2016-08-10T12:49:41-0400","dateStarted":"2016-08-14T19:20:27-0400","dateFinished":"2016-08-14T19:20:35-0400","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:3492"},{"text":"%sql ","dateUpdated":"2016-08-14T19:20:16-0400","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1470847904415_-838011109","id":"20160810-125144_1208192331","result":{"code":"ERROR","type":"TEXT","msg":"org.apache.spark.sql.catalyst.parser.ParseException: \nno viable alternative at input '<EOF>'(line 1, pos 0)\n\n== SQL ==\n\n^^^\n\n\tat org.apache.spark.sql.catalyst.parser.ParseException.withCommand(ParseDriver.scala:197)\n\tat org.apache.spark.sql.catalyst.parser.AbstractSqlParser.parse(ParseDriver.scala:99)\n\tat org.apache.spark.sql.execution.SparkSqlParser.parse(SparkSqlParser.scala:46)\n\tat org.apache.spark.sql.catalyst.parser.AbstractSqlParser.parsePlan(ParseDriver.scala:53)\n\tat org.apache.spark.sql.SparkSession.sql(SparkSession.scala:582)\n\tat org.apache.spark.sql.SQLContext.sql(SQLContext.scala:682)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:497)\n\tat org.apache.zeppelin.spark.SparkSqlInterpreter.interpret(SparkSqlInterpreter.java:115)\n\tat org.apache.zeppelin.interpreter.LazyOpenInterpreter.interpret(LazyOpenInterpreter.java:94)\n\tat org.apache.zeppelin.interpreter.remote.RemoteInterpreterServer$InterpretJob.jobRun(RemoteInterpreterServer.java:383)\n\tat org.apache.zeppelin.scheduler.Job.run(Job.java:176)\n\tat org.apache.zeppelin.scheduler.FIFOScheduler$1.run(FIFOScheduler.java:139)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n\tat java.lang.Thread.run(Thread.java:745)\n"},"dateCreated":"2016-08-10T12:51:44-0400","dateStarted":"2016-08-14T19:20:30-0400","dateFinished":"2016-08-14T19:20:35-0400","status":"ERROR","progressUpdateIntervalMs":500,"$$hashKey":"object:3493"}],"name":"DeviceRegistry","id":"2BQ9NB3EY","lastReplName":{"value":"sql"},"angularObjects":{"2BQ4DA89C:shared_process":[],"2BQ2F53M6:shared_process":[],"2BSY8XK83:shared_process":[],"2BQQW1DA2:shared_process":[],"2BTD7M9Z7:shared_process":[{"name":"data2Schema","object":{"fields":[{"name":"time","dataType":{"ordering":{}},"nullable":false,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"Disk","dataType":{"ordering":{}},"nullable":false,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"CPUUser","dataType":{"ordering":{}},"nullable":false,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"CPUSys","dataType":{"ordering":{}},"nullable":false,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"CPU","dataType":{"ordering":{}},"nullable":false,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"Mem","dataType":{"ordering":{}},"nullable":false,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"ExternalRequests","dataType":{"ordering":{}},"nullable":false,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"InternalRequests","dataType":{"ordering":{}},"nullable":false,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"TotalRequests","dataType":{"ordering":{}},"nullable":false,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"MemAvail","dataType":{"ordering":{}},"nullable":false,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}}],"_hashCode":0,"bitmap$0":0},"noteId":"2BQ9NB3EY"},{"name":"data2","object":[],"noteId":"2BQ9NB3EY"},{"name":"data1","object":[{"schema":{"fields":[{"name":"time","dataType":{"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"cpuused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"diskused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"ramused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"memavailable","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"internalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"externalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"totalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}}],"_hashCode":366288873,"bitmap$0":8},"values":["2016-07-12 14:56:00",5,0,82,10118,336,336,672]},{"schema":{"fields":[{"name":"time","dataType":{"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"cpuused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"diskused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"ramused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"memavailable","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"internalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"externalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"totalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}}],"_hashCode":366288873,"bitmap$0":8},"values":["2016-07-12 14:57:00",7,0,82,10086,480,480,960]},{"schema":{"fields":[{"name":"time","dataType":{"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"cpuused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"diskused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"ramused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"memavailable","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"internalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"externalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"totalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}}],"_hashCode":366288873,"bitmap$0":8},"values":["2016-07-12 14:58:00",5,0,82,10074,480,480,960]},{"schema":{"fields":[{"name":"time","dataType":{"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"cpuused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"diskused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"ramused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"memavailable","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"internalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"externalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"totalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}}],"_hashCode":366288873,"bitmap$0":8},"values":["2016-07-12 14:59:00",8,0,82,10063,480,480,960]},{"schema":{"fields":[{"name":"time","dataType":{"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"cpuused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"diskused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"ramused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"memavailable","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"internalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"externalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"totalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}}],"_hashCode":366288873,"bitmap$0":8},"values":["2016-07-12 15:00:00",7,0,82,10054,560,560,1120]},{"schema":{"fields":[{"name":"time","dataType":{"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"cpuused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"diskused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"ramused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"memavailable","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"internalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"externalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"totalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}}],"_hashCode":366288873,"bitmap$0":8},"values":["2016-07-12 15:01:00",5,0,86,10608,96,96,192]}],"noteId":"2BQ9NB3EY"},{"name":"data1Schema","object":{"fields":[{"name":"time","dataType":{"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"cpuused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"diskused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"ramused","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"memavailable","dataType":{"numeric":{},"fractional":{},"asIntegral":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"internalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"externalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}},{"name":"totalrequests","dataType":{"numeric":{},"integral":{},"ordering":{}},"nullable":true,"metadata":{"map":{},"_hashCode":-1609326920,"bitmap$0":true}}],"_hashCode":0,"bitmap$0":0},"noteId":"2BQ9NB3EY"}],"2BRQE418G:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}